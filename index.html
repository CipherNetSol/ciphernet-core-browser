<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="script-src 'self'" />

    <title>CipherNet Browser</title>

    <link rel="stylesheet" href="dist/bundle.css" />
    <link rel="stylesheet" href="ext/icons/iconfont.css" />
  </head>

  <body>
    <div class="window-drag-area"></div>

    <!-- Custom CipherNet Titlebar -->
    <!-- <div id="ciphernet-titlebar" class="windowDragHandle">
      <div id="status-indicators">
        <div class="status-item">
          <i class="i carbon:flash"></i>
          <span>AUTO-BURN ACTIVE</span>
        </div>
        <div class="status-item">
          <i class="i carbon:circle-dash"></i>
          <span>ISOLATED SESSION</span>
        </div>
        <div class="status-item">
          <i class="i carbon:locked"></i>
          <span>ENCRYPTED</span>
        </div>
      </div>
      <div id="session-timer">
        <span>SESSION TIME:</span>
        <span id="timer">00:00</span>
      </div>
    </div> -->

    <div class="windows-caption-buttons">
      <div class="element caption-minimise">
        <svg>
          <line x1="1" y1="5.5" x2="11" y2="5.5" />
        </svg>
      </div>
      <div class="element caption-maximize">
        <svg>
          <rect x="1.5" y="1.5" width="9" height="9" />
        </svg>
      </div>
      <div class="element caption-restore">
        <svg>
          <rect x="1.5" y="3.5" width="7" height="7" />
          <polyline points="3.5,3.5 3.5,1.5 10.5,1.5 10.5,8.5 8.5,8.5" />
        </svg>
      </div>
      <div class="element caption-close">
        <svg>
          <path d="M1,1 l 10,10 M1,11 l 10,-10" />
        </svg>
      </div>
    </div>

    <button id="linux-control-buttons" class="theme-text-color">
      <svg
        width="74"
        height="24"
        version="1.1"
        fill="none"
        stroke="none"
        stroke-linecap="square"
        stroke-miterlimit="10"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="minimize-button">
          <rect width="24" height="24" fill="transparent"></rect>
          <path
            class="button-background"
            d="m0.5826226 9.868774l0 0c0 -5.24453 4.251532 -9.496062 9.496063 -9.496062l0 0c2.5185127 0 4.933873 1.0004752 6.714731 2.7813323c1.7808571 1.7808576 2.781332 4.196218 2.781332 6.7147303l0 0c0 5.2445316 -4.2515326 9.496063 -9.496063 9.496063l0 0c-5.244531 0 -9.496063 -4.2515316 -9.496063 -9.496063z"
            fill-rule="evenodd"
          />
          <path
            stroke="currentColor"
            stroke-width="2.0"
            stroke-linejoin="round"
            stroke-linecap="butt"
            d="m6.7086616 12.519685l6.7401576 -0.031496048"
            fill-rule="evenodd"
          />
        </g>
        <g id="maximize-button">
          <rect width="24" height="24" x="24" fill="transparent"></rect>
          <path
            class="button-background"
            d="m27.85034 9.868774l0 0c0 -5.24453 4.2515316 -9.496062 9.496061 -9.496062l0 0c2.5185127 0 4.933876 1.0004752 6.714733 2.7813323c1.7808571 1.7808576 2.78133 4.196218 2.78133 6.7147303l0 0c0 5.2445316 -4.2515297 9.496063 -9.496063 9.496063l0 0c-5.2445297 0 -9.496061 -4.2515316 -9.496061 -9.496063z"
            fill-rule="evenodd"
          />
          <path
            stroke="currentColor"
            stroke-width="2.0"
            stroke-linejoin="round"
            stroke-linecap="butt"
            d="m34.16273 6.717848l6.3622017 0l0 6.2992125l-6.3622017 0z"
            fill-rule="evenodd"
          />
        </g>
        <g id="close-button">
          <rect width="24" height="24" x="48" fill="transparent"></rect>
          <path
            class="button-background"
            d="m55.118057 9.496072l0 0c0 -5.244531 4.2515297 -9.496063 9.496063 -9.496063l0 0c2.518509 0 4.9338684 1.0004753 6.7147293 2.7813325c1.7808533 1.7808573 2.781334 4.1962185 2.781334 6.714731l0 0c0 5.2445307 -4.2515335 9.496062 -9.496063 9.496062l0 0c-5.2445335 0 -9.496063 -4.2515316 -9.496063 -9.496062z"
            fill-rule="evenodd"
          />
          <path
            stroke="currentColor"
            stroke-width="2.0"
            stroke-linejoin="round"
            stroke-linecap="butt"
            d="m61.26077 6.1103663l6.740162 6.7716537"
            fill-rule="evenodd"
          />
          <path
            stroke="currentColor"
            stroke-width="2.0"
            stroke-linejoin="round"
            stroke-linecap="butt"
            d="m68.01668 6.1261144l-6.771656 6.7401576"
            fill-rule="evenodd"
          />
        </g>
      </svg>
    </button>

    <div
      id="navbar"
      class="theme-background-color theme-text-color windowDragHandle"
      tabindex="-1"
    >
    <div id="mac-window-drag-area"></div>
      <button
        id="menu-button"
        class="navbar-action-button i carbon:overflow-menu-vertical"
        data-label="openMenu"
        tabindex="-1"
      ></button>
      <div id="toolbar-navigation-buttons" hidden>
          <button
          id="back-button"
          class="navbar-action-button i carbon:chevron-left"
          data-label="goBack"
          tabindex="-1"
        ></button>
        <button
        id="forward-button"
        class="navbar-action-button i carbon:chevron-right"
        data-label="goForward"
        tabindex="-1"
      ></button>
      </div>
      <div id="tabs">
        <div id="tab-editor" hidden>
          <input id="tab-editor-input" spellcheck="false" />
        </div>
        <div id="tabs-inner" role="tablist" class="has-thin-scrollbar"></div>
      </div>
      <div class="navbar-right-actions">
        <button
          id="add-tab-button"
          class="navbar-action-button i carbon:add"
          data-label="newTabAction"
          tabindex="-1"
        ></button>
      </div>
    </div>

    <!-- CipherNet Navigation Bar -->
    <div id="ciphernet-nav-bar" class="theme-background-color theme-text-color">
      <div id="ciphernet-logo-container">
        <img id="ciphernet-logo" src="icons/icon256.png" alt="CipherNet" />
        <span id="ciphernet-brand">CipherNet</span>
      </div>

      <div id="ciphernet-search-container">
        <i class="i carbon:search"></i>
        <input
          id="ciphernet-search-input"
          type="text"
          placeholder="Search or enter address"
          spellcheck="false"
        />
      </div>

      <div id="ciphernet-action-buttons">
        <button id="mixer-button" class="ciphernet-nav-btn" title="Mixer - Randomize your digital fingerprint">
          <i class="i carbon:shuffle"></i>
          <span>Mixer</span>
        </button>
        <button id="vpn-button" class="ciphernet-nav-btn" title="VPN - Secure your connection">
          <i class="i carbon:locked"></i>
          <span>VPN</span>
        </button>
      </div>
    </div>

    <!-- Mixer Panel Below Navbar -->
    <div id="mixer-panel-inline" class="mixer-panel-inline">
      <div class="mixer-panel-inline-header">
        <div class="mixer-panel-inline-title">
          <i class="i carbon:shuffle"></i>
          <h2>Mixer</h2>
        </div>
        <button id="mixer-panel-inline-close" class="mixer-close-btn i carbon:close"></button>
      </div>

      <div class="mixer-panel-inline-content">
        <!-- How Mixer Works Info -->
        <div class="mixer-info-section">
          <div class="mixer-info-header">
            <i class="i carbon:information"></i>
            <h3>How Mixer Works</h3>
          </div>
          <div class="mixer-info-content">
            <p>The mixer breaks deterministic flow by routing your transaction through multiple hops with randomized timing and amounts.</p>
            <ul>
              <li>An obfuscated routing path</li>
              <li>Randomized timing delays</li>
              <li>Amount-based transaction analysis</li>
            </ul>
          </div>
        </div>

        <!-- Exchange Pair Selection -->
        <div class="mixer-form-section">
          <div class="mixer-form-row">
            <div class="mixer-form-group">
              <label>From Currency</label>
              <select id="mixer-from-currency-inline" class="mixer-select">
                <option value="">Loading...</option>
              </select>
            </div>
            <div class="mixer-swap-icon-inline">
              <i class="i carbon:arrows-horizontal"></i>
            </div>
            <div class="mixer-form-group">
              <label>To Currency</label>
              <select id="mixer-to-currency-inline" class="mixer-select">
                <option value="">Loading...</option>
              </select>
            </div>
          </div>

          <div class="mixer-form-row">
            <div class="mixer-form-group">
              <label>Amount</label>
              <div class="mixer-amount-container">
                <input
                  type="number"
                  id="mixer-amount-input-inline"
                  class="mixer-input"
                  placeholder="Min 0.0055002 SOL"
                  step="0.00000001"
                />
                <button id="mixer-send-max-inline" class="mixer-max-btn">MAX</button>
              </div>
              <div id="mixer-amount-error-inline" class="mixer-error-text" style="display: none;"></div>
            </div>

            <div class="mixer-form-group">
              <label>Receiving Wallet Address</label>
              <input
                type="text"
                id="mixer-receiving-address-inline"
                class="mixer-input"
                placeholder="Enter Wallet Address"
              />
              <div id="mixer-address-error-inline" class="mixer-error-text" style="display: none;"></div>
            </div>
          </div>

          <div class="mixer-estimate-section">
            <div class="mixer-estimate-label">You will receive approximately:</div>
            <div id="mixer-estimated-amount-inline" class="mixer-estimate-amount">-</div>
          </div>

          <button id="mixer-create-order-inline" class="mixer-create-btn">
            <i class="i carbon:shuffle"></i>
            Create Order
          </button>

          <!-- Transaction Status -->
          <div id="mixer-status-section-inline" class="mixer-status-section" style="display: none;">
            <div class="mixer-status-header">
              <h3>Last Transaction Status</h3>
              <span id="mixer-status-badge-inline" class="mixer-status-badge"></span>
            </div>
            <div id="mixer-status-details-inline" class="mixer-status-details"></div>
          </div>
        </div>
      </div>
    </div>

    <button
      id="switch-task-button"
      class="navbar-action-button theme-text-color windowDragHandle i"
      data-label="viewTasks"
      tabindex="-1"
    >
      <svg
        version="1.1"
        viewBox="0.0 0.0 26.0 26.0"
        fill="none"
        stroke="none"
        stroke-linecap="square"
        stroke-miterlimit="10"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#p.0)">
          <path
            fill="currentColor"
            d="m0 0l32 0l0 4l-32 0z"
            fill-rule="evenodd"
          />
          <path
            fill="currentColor"
            d="m0 11l32 0l0 4l-32 0z"
            fill-rule="evenodd"
          />
          <path
            fill="currentColor"
            d="m0 22l32 0l0 4l-32 0z"
            fill-rule="evenodd"
          />
        </g>
      </svg>
    </button>

    <div id="searchbar" class="theme-background-color theme-text-color">
      <div class="top-answer-area"></div>
    </div>

    <!-- <div id="cipher-toolbar-buttons">
      <button id="mixer-button" class="cipher-toolbar-btn" title="Mixer">
        <i class="i carbon:shuffle"></i>
        <span>Mixer</span>
      </button>
      <button id="privacy-button" class="cipher-toolbar-btn" title="Privacy">
        <i class="i carbon:view-off"></i>
        <span>Privacy</span>
      </button>
    </div> -->

    <div id="overlay"></div>

    <div id="webviews">
      <div id="leftArrowContainer" class="arrow-indicator">
        <i id="leftArrow" class="i carbon:chevron-left"></i>
      </div>
      <div id="rightArrowContainer" class="arrow-indicator">
        <i id="rightArrow" class="i carbon:chevron-right"></i>
      </div>
      <img id="webview-placeholder" hidden aria-hidden="true" />
      <div id="ntp-content">
          <img id="ntp-background" hidden>
          <div id="ntp-background-controls">
            <button id="ntp-image-remove"><i class="i carbon:trash-can"></i></button>
            <button id="ntp-image-picker"><i class="i carbon:camera"></i></button>
          </div>
      </div>
    </div>

    <!-- findinpage ui -->

    <div
      id="findinpage-bar"
      hidden
      class="theme-background-color theme-text-color"
    >
      <input id="findinpage-input" />
      <span id="findinpage-count" class="inline-text"></span>
      <div class="divider"></div>
      <button id="findinpage-previous-match">
        <i class="i carbon:chevron-up navbar-action-button"></i>
      </button>
      <button id="findinpage-next-match">
        <i class="i carbon:chevron-down navbar-action-button"></i>
      </button>
      <div class="divider"></div>
      <button id="findinpage-end">
        <i class="i carbon:close navbar-action-button"></i>
      </button>
    </div>

    <div id="task-overlay" class="" hidden tabindex="-1">
      <div
        class="simulated-navbar windowDragHandle"
        id="task-overlay-navbar"
      >
      <div class="task-search-input-container">
        <i class="i carbon:search"></i>
        <input type="search" id="task-search-input"/>
      </div>
    </div>
      <div id="task-area"></div>
      <button id="add-task">
        <i class="i carbon:new-tab"></i>
        <span></span>
      </button>
    </div>

    <div id="download-bar" hidden>
      <div id="download-container" role="list" class="has-thin-scrollbar"></div>
      <button id="download-close-button" class="i carbon:close"></button>
    </div>

    <!-- Mixer Panel -->
    <div id="mixer-panel" class="mixer-panel">
      <div class="mixer-panel-header">
        <div class="mixer-panel-title">
          <i class="i carbon:shuffle"></i>
          <h2>Mixer</h2>
        </div>
        <button id="mixer-panel-close" class="mixer-close-btn i carbon:close"></button>
      </div>

      <div class="mixer-panel-content">
        <!-- Form View -->
        <div id="mixer-form-view" style="display: flex; flex-direction: column; gap: 16px;">
          <!-- Error Message -->
          <div id="mixer-error-message" style="display: none; background: #ff555520; border: 1px solid #ff5555; border-radius: 8px; padding: 12px; color: #ff5555; font-size: 13px;"></div>

          <!-- How Mixer Works Info -->
          <div class="mixer-info-section">
            <div class="mixer-info-header">
              <i class="i carbon:information"></i>
              <h3>How Mixer Works</h3>
            </div>
            <div class="mixer-info-content">
              <p>The mixer breaks deterministic flow by routing your transaction through multiple hops with randomized timing and amounts.</p>
              <ul>
                <li>An obfuscated routing path</li>
                <li>Randomized timing delays</li>
                <li>Amount-based transaction analysis</li>
              </ul>
            </div>
          </div>

          <!-- Exchange Pair Selection -->
          <div class="mixer-form-group">
            <label>Exchange Pair</label>
            <select id="mixer-pair-select" class="mixer-select">
              <option value="">Loading...</option>
            </select>
          </div>

          <!-- Amount Input -->
          <div class="mixer-form-group">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
              <label style="margin: 0;">Amount</label>
              <span id="mixer-min-amount" style="font-size: 12px; color: #888;"></span>
            </div>
            <input
              type="number"
              id="mixer-amount-input"
              class="mixer-input"
              placeholder="0.5"
              step="0.00000001"
              min="0"
            />
          </div>

          <!-- Receiving Wallet Address -->
          <div class="mixer-form-group">
            <label>Enter Receiving Wallet Address</label>
            <input
              type="text"
              id="mixer-receiving-address"
              class="mixer-input"
              placeholder="Enter Wallet Address"
            />
          </div>

          <!-- Estimated Amount -->
          <div style="background: #f1f3f4; border-radius: 8px; padding: 12px; display: flex; justify-content: space-between; align-items: center;">
            <span style="font-size: 13px; color: #5f6368;">Estimated to receive:</span>
            <span id="mixer-estimated-amount" style="font-size: 14px; font-weight: 600; color: #000;">-</span>
          </div>

          <!-- Create Order Button -->
          <button id="mixer-create-order" class="mixer-create-btn">
            <i class="i carbon:shuffle"></i>
            Create Order
          </button>
        </div>

        <!-- Order View -->
        <div id="mixer-order-view" style="display: none; flex-direction: column; gap: 12px;">
          <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #e0e0e0;">
            <span style="font-size: 13px; color: #5f6368;">Order ID:</span>
            <div style="display: flex; align-items: center; gap: 8px;">
              <span id="mixer-order-id" style="font-size: 13px; font-weight: 500;"></span>
              <button id="mixer-copy-order-id" style="background: none; border: none; cursor: pointer; color: #ffffff; font-size: 16px;">üìã</button>
            </div>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
            <span style="font-size: 13px; color: #5f6368;">Please Send:</span>
            <span id="mixer-send-amount" style="font-size: 13px; font-weight: 500;"></span>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
            <span style="font-size: 13px; color: #5f6368;">Send To:</span>
            <div style="display: flex; align-items: center; gap: 8px;">
              <span id="mixer-send-address" style="font-size: 13px; font-weight: 500;"></span>
              <button id="mixer-copy-send-address" style="background: none; border: none; cursor: pointer; color: #ffffff; font-size: 16px;">üìã</button>
            </div>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0;">
            <span style="font-size: 13px; color: #5f6368;">You will receive:</span>
            <span id="mixer-receive-amount" style="font-size: 13px; font-weight: 500; color: #ffffff;"></span>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0;color: black; background: #fff; border-radius: 8px; padding: 12px;">
            <span style="font-size: 13px; font-weight: 600;">‚è±Ô∏è Time Remaining:</span>
            <span id="mixer-time-remaining" style="font-size: 16px; font-weight: 700;">30:00</span>
          </div>

          <!-- Progress Bar -->
          <div style="width: 100%; background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden; margin: 8px 0;">
            <div id="mixer-progress-bar" style="height: 100%; background: #000; width: 0%; transition: width 0.5s ease;"></div>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #e0e0e0;">
            <span style="font-size: 13px; color: #5f6368;">Status</span>
            <div style="display: flex; align-items: center; gap: 8px;">
              <span id="mixer-status-text" style="font-size: 13px; font-weight: 500;">Awaiting Deposit</span>
              <button id="mixer-refresh-status" style="background: none; border: 1px solid #ffffff; border-radius: 50%; width: 24px; height: 24px; cursor: pointer; color: #ffffff; display: flex; align-items: center; justify-content: center;">‚Üª</button>
            </div>
          </div>

          <button id="mixer-cancel-order" style="width: 100%; padding: 12px; background: #ff555520; border: 1px solid #ff5555; border-radius: 8px; color: #ff5555; font-weight: 600; cursor: pointer; font-size: 14px; transition: all 0.2s;">
            Cancel Order
          </button>
        </div>
      </div>
    </div>

    <div class="modal" id="manager-setup-dialog" hidden>
      <h3 class="modal-title" id="manager-setup-heading"></h3>
      <button
        id="manager-setup-close"
        class="modal-close-button i carbon:close"
      ></button>

      <div id="manager-setup-instructions-primary">
        <div
          class="light-fade"
          data-string="passwordManagerSetupStep1"
          data-allowHTML
        ></div>
        <div class="spacer"></div>
        <div
          class="light-fade"
          data-string="passwordManagerSetupStep2"
          data-allowHTML
        ></div>
      </div>

      <div id="manager-setup-instructions-secondary">
        <div
          class="light-fade"
          data-string="passwordManagerInstallerSetup"
          data-allowHTML
        ></div>
      </div>

      <div class="spacer"></div>

      <div
        id="manager-setup-drop-box"
        class="drag-and-drop-box"
        data-string="passwordManagerSetupDragBox"
      ></div>

      <div class="spacer"></div>
      <div class="spacer"></div>

      <div class="buttons">
        <input
          type="button"
          id="manager-setup-disable"
          data-value="disableAutofill"
        />
      </div>
    </div>

    <div id="password-capture-bar" hidden>
      <span id="password-capture-description"></span>
      <input id="password-capture-username" type="text" required />
      <span class="password-capture-section">
        <input id="password-capture-password" type="password" required />
        <button
          id="password-capture-reveal-password"
          class="i carbon:view"
        ></button>
      </span>
      <span class="password-capture-section">
        <button
          id="password-capture-save"
          data-string="passwordCaptureSave"
        ></button>
        <button
          id="password-capture-ignore"
          data-string="passwordCaptureDontSave"
        ></button>
      </span>
      <button
      id="password-capture-never-save"
      data-string="passwordCaptureNeverSave"
      ></button>
    </div>

    <div id="password-viewer" class="modal" hidden>
      <h2 class="modal-title" data-string="savedPasswordsHeading"></h2>
      <button class="modal-close-button i carbon:close"></button>
      <div
        id="password-viewer-empty"
        data-string="savedPasswordsEmpty"
        hidden
      ></div>
      <div id="password-viewer-list"></div>
      <div id="password-viewer-import-container">
        <button id="password-viewer-import"><span class="i carbon:document-import"></span><span data-string="importCredentials"></span></button>
        <button id="password-viewer-export"><span class="i carbon:export"></span><span data-string="exportCredentials"></span></button>
</div>
    </div>

    <!-- add scripts in Gruntfile.js -->

    <script src="dist/bundle.js"></script>
  </body>
</html>